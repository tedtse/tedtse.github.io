{"version":3,"sources":["webpack:///./src/views/component.vue?8a10","webpack:///src/views/component.vue","webpack:///./src/views/component.vue?fd8d","webpack:///./src/views/component.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","navsData","navBase","directives","name","rawName","value","expression","class","hover","on","$event","toTop","staticRenderFns","data","showBackToTop","scrollTop","showHeader","componentScrollBar","componentScrollBoxElement","watch","componentScrollBox","$nextTick","getNavsData","methods","test","path","iview","renderAnchorHref","location","href","anchors","forEach","a","basePath","goAnchor","match","length","anchor","elm","setTimeout","handleScroll","document","body","clientHeight","navFaded","bus","created","window","addEventListener","documentElement","mounted","$refs","$el","querySelector","throttledScrollHandler","classList","add","destroyed","remove","beforeDestroy","removeEventListener","component"],"mappings":"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","file":"js/chunk-2d2169c6.2c856424.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-scrollbar',{ref:\"componentScrollBar\",staticClass:\"page-component__scroll\"},[_c('div',{staticClass:\"page-container page-component\"},[_c('el-scrollbar',{staticClass:\"page-component__nav\"},[_c('side-nav',{attrs:{\"data\":_vm.navsData,\"base\":_vm.navBase}})],1),_c('div',{staticClass:\"page-component__content\"},[_c('router-view',{staticClass:\"content\"})],1),_c('transition',{attrs:{\"name\":\"back-top-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showBackToTop),expression:\"showBackToTop\"}],staticClass:\"page-component-up\",class:{ 'hover': _vm.hover },on:{\"mouseenter\":function($event){_vm.hover = true},\"mouseleave\":function($event){_vm.hover = false},\"click\":_vm.toTop}},[_c('i',{staticClass:\"el-icon-caret-top\"})])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-scrollbar class=\"page-component__scroll\" ref=\"componentScrollBar\">\n  <div class=\"page-container page-component\">\n    <el-scrollbar class=\"page-component__nav\">\n      <side-nav :data=\"navsData\" :base=\"navBase\"></side-nav>\n    </el-scrollbar>\n    <div class=\"page-component__content\">\n      <router-view class=\"content\"></router-view>\n    </div>\n    <transition name=\"back-top-fade\">\n      <div\n        class=\"page-component-up\"\n        :class=\"{ 'hover': hover }\"\n        v-show=\"showBackToTop\"\n        @mouseenter=\"hover = true\"\n        @mouseleave=\"hover = false\"\n        @click=\"toTop\">\n        <i class=\"el-icon-caret-top\"></i>\n      </div>\n    </transition>\n  </div>\n  </el-scrollbar>\n</template>\n<script>\nimport bus from '../utils/bus.js'\nimport elementUiMenu from '../config/element-ui.json'\nimport iviewMenu from '../config/iview.json'\nimport throttle from 'throttle-debounce/throttle'\n\nexport default {\n  data () {\n    return {\n      navsData: [],\n      navBase: '',\n      hover: false,\n      showBackToTop: false,\n      scrollTop: 0,\n      showHeader: true,\n      componentScrollBar: null,\n      componentScrollBoxElement: null\n    }\n  },\n  watch: {\n    '$route.path' (val) {\n      // 触发伪滚动条更新\n      this.componentScrollBox.scrollTop = 0\n      this.$nextTick(() => {\n        this.componentScrollBar.update()\n      })\n      this.getNavsData()\n    }\n  },\n  methods: {\n    getNavsData  () {\n      const path = this.$route.path\n      if (/^\\/element-ui/.test(path)) {\n        this.navsData = elementUiMenu\n        this.navBase = '/element-ui'\n      } else if (/^\\/iview/.test(path)) {\n        this.navsData = iviewMenu\n        this.navBase = '/iview'\n      }\n    },\n    renderAnchorHref () {\n      if (/changelog/g.test(location.href)) return\n      const anchors = document.querySelectorAll('h2 a,h3 a,h4 a,h5 a')\n      const basePath = location.href.split('#').splice(0, 2).join('#')\n      anchors.forEach(a => {\n        const href = a.getAttribute('href')\n        a.href = basePath + href\n      })\n    },\n    goAnchor () {\n      if (location.href.match(/#/g).length > 1) {\n        const anchor = location.href.match(/#[^#]+$/g)\n        if (!anchor) return\n        const elm = document.querySelector(anchor[0])\n        if (!elm) return\n\n        setTimeout(_ => {\n          this.componentScrollBox.scrollTop = elm.offsetTop\n        }, 50)\n      }\n    },\n    toTop () {\n      this.hover = false\n      this.showBackToTop = false\n      this.componentScrollBox.scrollTop = 0\n    },\n    handleScroll () {\n      const scrollTop = this.componentScrollBox.scrollTop\n      this.showBackToTop = scrollTop >= 0.5 * document.body.clientHeight\n      if (this.showHeader !== (this.scrollTop > scrollTop)) {\n        this.showHeader = this.scrollTop > scrollTop\n      }\n      if (scrollTop === 0) {\n        this.showHeader = true\n      }\n      if (!this.navFaded) {\n        bus.$emit('fadeNav')\n      }\n      this.scrollTop = scrollTop\n    }\n  },\n  created () {\n    bus.$on('navFade', val => {\n      this.navFaded = val\n    })\n    window.addEventListener('hashchange', () => {\n      if (location.href.match(/#/g).length < 2) {\n        document.documentElement.scrollTop = document.body.scrollTop = 0\n        this.renderAnchorHref()\n      } else {\n        this.goAnchor()\n      }\n    })\n    this.getNavsData()\n  },\n  mounted () {\n    this.componentScrollBar = this.$refs.componentScrollBar\n    this.componentScrollBox = this.componentScrollBar.$el.querySelector('.el-scrollbar__wrap')\n    this.throttledScrollHandler = throttle(300, this.handleScroll)\n    this.componentScrollBox.addEventListener('scroll', this.throttledScrollHandler)\n    this.renderAnchorHref()\n    this.goAnchor()\n    document.body.classList.add('is-component')\n  },\n  destroyed () {\n    document.body.classList.remove('is-component')\n  },\n  beforeDestroy () {\n    this.componentScrollBox.removeEventListener('scroll', this.throttledScrollHandler)\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./component.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./component.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./component.vue?vue&type=template&id=0c010266&\"\nimport script from \"./component.vue?vue&type=script&lang=js&\"\nexport * from \"./component.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}