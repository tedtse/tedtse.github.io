(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29c32962"],{"0711":function(e,t,r){},"5ef8":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"scene-container"},[r("div",{staticClass:"link"},[r("el-button",{attrs:{type:"text",size:"large",icon:"el-icon-link"}},[r("a",{attrs:{href:"https://github.com/tedtse/rw-dispatcher-es/blob/master/src/views/scene/preview.vue",target:"_blank"}},[e._v("源码")])])],1),r("sub-form",{attrs:{form:e.form,"rw-dispatcher-state":"write"},on:{change:e.asyncForm}}),r("el-dialog",{attrs:{title:"预览",visible:e.priewVisible,fullscreen:""},on:{"update:visible":function(t){e.priewVisible=t}}},[r("div",{staticClass:"modal-wrapper"},[r("sub-form",{attrs:{form:e.form,"rw-dispatcher-state":"read"}})],1)]),r("div",{staticClass:"operate"},[r("el-button",{attrs:{icon:"el-icon-view"},on:{click:e.preview}},[e._v("预览")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)},n=[],i=(r("ac6a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"scene-body"},[r("el-form",{ref:"form",attrs:{model:e.activeForm,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"活动名称"}},[r("el-input-dispatcher",{model:{value:e.activeForm.name,callback:function(t){e.$set(e.activeForm,"name",t)},expression:"activeForm.name"}})],1),r("el-form-item",{attrs:{label:"活动等级"}},[r("el-rate-dispatcher",{model:{value:e.activeForm.level,callback:function(t){e.$set(e.activeForm,"level",t)},expression:"activeForm.level"}})],1),r("el-form-item",{attrs:{label:"活动区域"}},[r("el-select-dispatcher",{attrs:{placeholder:"请选择活动区域"},model:{value:e.activeForm.region,callback:function(t){e.$set(e.activeForm,"region",t)},expression:"activeForm.region"}},[r("el-option",{attrs:{label:"区域一",value:"shanghai"}}),r("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),r("el-form-item",{attrs:{label:"活动时间"}},[r("el-col",{attrs:{span:11}},[r("el-date-picker-dispatcher",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.activeForm.date1,callback:function(t){e.$set(e.activeForm,"date1",t)},expression:"activeForm.date1"}})],1),r("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),r("el-col",{attrs:{span:11}},[r("el-time-picker-dispatcher",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间"},model:{value:e.activeForm.date2,callback:function(t){e.$set(e.activeForm,"date2",t)},expression:"activeForm.date2"}})],1)],1),r("el-form-item",{attrs:{label:"持续时间"}},[r("el-slider-dispatcher",{model:{value:e.activeForm.duration,callback:function(t){e.$set(e.activeForm,"duration",t)},expression:"activeForm.duration"}})],1),r("el-form-item",{attrs:{label:"即时配送"}},[r("el-switch-dispatcher",{model:{value:e.activeForm.delivery,callback:function(t){e.$set(e.activeForm,"delivery",t)},expression:"activeForm.delivery"}})],1),r("el-form-item",{attrs:{label:"活动形式"}},[r("el-input-dispatcher",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1)],1)}),l=[],o=r("0644"),s=r.n(o),c=r("6e8d"),u={props:{rwDispatcherState:{type:String,default:"write"},form:{type:Object,default:function(){return{}}}},provide:function(){return{rwDispatcherProvider:this}},data:function(){return{formClone:{}}},computed:{activeForm:function(){return"write"===this.rwDispatcherState?this.formClone:this.form}},watch:{formClone:{deep:!0,handler:function(){var e=Object(c["diff"])(this.form,this.formClone);e&&e.length&&this.$emit("change",e)}}},created:function(){this.formClone=s()(this.form)}},f=u,h=r("2877"),p=Object(h["a"])(f,i,l,!1,null,null,null),d=p.exports,v={components:{SubForm:d},data:function(){return{priewVisible:!1,form:{name:"618电器折扣日",level:5,duration:7,region:"shanghai",date1:"2019-06-18",date2:new Date(2019,6,18,0,0,0),delivery:!1,desc:"凡在实体店购买指定商品，立刻过得赠品一份"}}},methods:{asyncForm:function(e){var t=this;e.forEach((function(e){"E"===e.kind&&(t.form[e.path]=e.rhs)}))},preview:function(){this.priewVisible=!0},submit:function(){}}},m=v,b=(r("90f1"),Object(h["a"])(m,a,n,!1,null,"51ed7dee",null));t["default"]=b.exports},"6e8d":function(e,t,r){var a;(function(n,i){var l=i(n);a=function(){return l}.call(t,r,t,e),void 0===a||(e.exports=a)})(this,(function(e){var t=["N","E","A","D"];function r(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function a(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function n(e,t,r){n.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function l(e,t){l.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function o(e,t,r){o.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function s(e,t,r){var a=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,a),e}function c(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"===typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){var a=e.charCodeAt(r);t=(t<<5)-t+a,t&=t}return t}function f(e){var t=0,r=c(e);if("array"===r){e.forEach((function(e){t+=f(e)}));var a="[type: array, hash: "+t+"]";return t+u(a)}if("object"===r){for(var n in e)if(e.hasOwnProperty(n)){var i="[ type: object, key: "+n+", value hash: "+f(e[n])+"]";t+=u(i)}return t}var l="[ type: "+r+" ; value: "+e+"]";return t+u(l)}function h(e,t,r,a,s,u,p,d){r=r||[],s=s||[],p=p||[];var v=s.slice(0);if("undefined"!==typeof u&&null!==u){if(a){if("function"===typeof a&&a(v,u))return;if("object"===typeof a){if(a.prefilter&&a.prefilter(v,u))return;if(a.normalize){var m=a.normalize(v,u,e,t);m&&(e=m[0],t=m[1])}}}v.push(u)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var b,y,g,k,w=typeof e,j=typeof t,x="undefined"!==w||p&&p.length>0&&p[p.length-1].lhs&&Object.getOwnPropertyDescriptor(p[p.length-1].lhs,u),F="undefined"!==j||p&&p.length>0&&p[p.length-1].rhs&&Object.getOwnPropertyDescriptor(p[p.length-1].rhs,u);if(!x&&F)r.push(new i(v,t));else if(!F&&x)r.push(new l(v,e));else if(c(e)!==c(t))r.push(new n(v,e,t));else if("date"===c(e)&&e-t!==0)r.push(new n(v,e,t));else if("object"===w&&null!==e&&null!==t){for(b=p.length-1;b>-1;--b)if(p[b].lhs===e){k=!0;break}if(k)e!==t&&r.push(new n(v,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){d&&(e.sort((function(e,t){return f(e)-f(t)})),t.sort((function(e,t){return f(e)-f(t)}))),b=t.length-1,y=e.length-1;while(b>y)r.push(new o(v,b,new i(void 0,t[b--])));while(y>b)r.push(new o(v,y,new l(void 0,e[y--])));for(;b>=0;--b)h(e[b],t[b],r,a,v,b,p,d)}else{var O=Object.keys(e),D=Object.keys(t);for(b=0;b<O.length;++b)g=O[b],k=D.indexOf(g),k>=0?(h(e[g],t[g],r,a,v,g,p,d),D[k]=null):h(e[g],void 0,r,a,v,g,p,d);for(b=0;b<D.length;++b)g=D[b],g&&h(void 0,t[g],r,a,v,g,p,d)}p.length=p.length-1}}else e!==t&&("number"===w&&isNaN(e)&&isNaN(t)||r.push(new n(v,e,t)))}function p(e,t,r,a,n){var i=[];if(h(e,t,i,a,null,null,null,n),r)for(var l=0;l<i.length;++l)r(i[l]);return i}function d(e,t,r,a,n,i,l){return h(e,t,r,a,n,i,l,!0)}function v(e,t,r,a){var n=a?function(e){e&&a.push(e)}:void 0,i=p(e,t,n,r);return a||(i.length?i:void 0)}function m(e,t,r,a){var n=a?function(e){e&&a.push(e)}:void 0,i=p(e,t,n,r,!0);return a||(i.length?i:void 0)}function b(e,t,r){if(r.path&&r.path.length){var a,n=e[t],i=r.path.length-1;for(a=0;a<i;a++)n=n[r.path[a]];switch(r.kind){case"A":b(n[r.path[a]],r.index,r.item);break;case"D":delete n[r.path[a]];break;case"E":case"N":n[r.path[a]]=r.rhs;break}}else switch(r.kind){case"A":b(e[t],r.index,r.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=r.rhs;break}return e}function y(e,r,a){if("undefined"===typeof a&&r&&~t.indexOf(r.kind)&&(a=r),e&&a&&a.kind){var n=e,i=-1,l=a.path?a.path.length-1:0;while(++i<l)"undefined"===typeof n[a.path[i]]&&(n[a.path[i]]="undefined"!==typeof a.path[i+1]&&"number"===typeof a.path[i+1]?[]:{}),n=n[a.path[i]];switch(a.kind){case"A":a.path&&"undefined"===typeof n[a.path[i]]&&(n[a.path[i]]=[]),b(a.path?n[a.path[i]]:n,a.index,a.item);break;case"D":delete n[a.path[i]];break;case"E":case"N":n[a.path[i]]=a.rhs;break}}}function g(e,t,r){if(r.path&&r.path.length){var a,n=e[t],i=r.path.length-1;for(a=0;a<i;a++)n=n[r.path[a]];switch(r.kind){case"A":g(n[r.path[a]],r.index,r.item);break;case"D":n[r.path[a]]=r.lhs;break;case"E":n[r.path[a]]=r.lhs;break;case"N":delete n[r.path[a]];break}}else switch(r.kind){case"A":g(e[t],r.index,r.item);break;case"D":e[t]=r.lhs;break;case"E":e[t]=r.lhs;break;case"N":e=s(e,t);break}return e}function k(e,t,r){if(e&&t&&r&&r.kind){var a,n,i=e;for(n=r.path.length-1,a=0;a<n;a++)"undefined"===typeof i[r.path[a]]&&(i[r.path[a]]={}),i=i[r.path[a]];switch(r.kind){case"A":g(i[r.path[a]],r.index,r.item);break;case"D":i[r.path[a]]=r.lhs;break;case"E":i[r.path[a]]=r.lhs;break;case"N":delete i[r.path[a]];break}}}function w(e,t,r){if(e&&t){var a=function(a){r&&!r(e,t,a)||y(e,t,a)};p(e,t,a)}}return r(n,a),r(i,a),r(l,a),r(o,a),Object.defineProperties(v,{diff:{value:v,enumerable:!0},orderIndependentDiff:{value:m,enumerable:!0},observableDiff:{value:p,enumerable:!0},orderIndependentObservableDiff:{value:d,enumerable:!0},orderIndepHash:{value:f,enumerable:!0},applyDiff:{value:w,enumerable:!0},applyChange:{value:y,enumerable:!0},revertChange:{value:k,enumerable:!0},isConflict:{value:function(){return"undefined"!==typeof $conflict},enumerable:!0}}),v.DeepDiff=v,e&&(e.DeepDiff=v),v}))},"90f1":function(e,t,r){"use strict";var a=r("0711"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-29c32962.6dcbfa4a.js.map